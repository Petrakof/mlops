schema: '2.0'
stages:
  get-features:
    cmd: python3 scripts/feature_engineering_scripts/get_features.py data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: 7828be7ebc0d0d2350e2b1bd39163464
      size: 35143122
    - path: scripts/feature_engineering_scripts/get_features.py
      hash: md5
      md5: 95e614e19874d16066f7380ba8b3af56
      size: 665
    outs:
    - path: datasets/stage1
      hash: md5
      md5: 6045b8bb1bd837dff60bb8d3c790a6cf.dir
      size: 336528
      nfiles: 1
  split-director:
    cmd: python3 scripts/feature_engineering_scripts/split_director.py datasets/stage1/train.csv
    deps:
    - path: datasets/stage1/train.csv
      hash: md5
      md5: 0c293027056ff56bd5133b6800ecf92d
      size: 994156
    - path: scripts/feature_engineering_scripts/split_director.py
      hash: md5
      md5: bf4740323cdb7454eb0f303f8f24a826
      size: 737
    outs:
    - path: datasets/stage2
      hash: md5
      md5: 40eec8f8f2f4215315856074fd8659ad.dir
      size: 962432
      nfiles: 1
  rating_MPAA-OHE:
    cmd: python3 scripts/feature_engineering_scripts/rating_MPAA_OHE.py datasets/stage1/train.csv
    deps:
    - path: datasets/stage1/train.csv
      hash: md5
      md5: c6730762222676781c1b823b5744e157
      size: 336528
    - path: scripts/feature_engineering_scripts/rating_MPAA_OHE.py
      hash: md5
      md5: 3b151cb8a1c4ea19d47a02b95a260c9d
      size: 775
    outs:
    - path: datasets/stage2
      hash: md5
      md5: fb6076ffecd28fa3fcd37f280b65ecac.dir
      size: 1169756
      nfiles: 1
  drop-na:
    cmd: python3 scripts/feature_engineering_scripts/drop_na.py datasets/stage2/train.csv
    deps:
    - path: datasets/stage2/train.csv
      hash: md5
      md5: f83878b74f06e39722c16ac752335cc2
      size: 1169756
    - path: scripts/feature_engineering_scripts/drop_na.py
      hash: md5
      md5: 5f544d44ee6f9681e55a3854fc98d8e6
      size: 647
    outs:
    - path: datasets/stage3
      hash: md5
      md5: fb6076ffecd28fa3fcd37f280b65ecac.dir
      size: 1169756
      nfiles: 1
  split:
    cmd: python3 scripts/feature_engineering_scripts/train_test_split.py datasets/stage3/train.csv
    deps:
    - path: datasets/stage3/train.csv
      hash: md5
      md5: f83878b74f06e39722c16ac752335cc2
      size: 1169756
    - path: scripts/feature_engineering_scripts/train_test_split.py
      hash: md5
      md5: 9879086d14daafb4d90c5ef2cdb28844
      size: 953
    params:
      params.yaml:
        split.split_ratio: 0.3
    outs:
    - path: datasets/stage4
      hash: md5
      md5: e3f7bf1c222b8863a9df714814cc78e5.dir
      size: 1169779
      nfiles: 2
  train:
    cmd: python3 scripts/model_scripts/dt.py datasets/stage4/train.csv model.pkl
    deps:
    - path: datasets/stage4/train.csv
      hash: md5
      md5: 2e7eb6b1a66c239d8747d8e13d26587b
      size: 818516
    - path: scripts/model_scripts/dt.py
      hash: md5
      md5: e9cfac2b914587794ba6bb7ce47b79c8
      size: 729
    params:
      params.yaml:
        train.max_depth: 7
        train.seed: 56
    outs:
    - path: models/model.pkl
      hash: md5
      md5: f5be805ca561b0c461e267136cfae399
      size: 1935
  evaluate:
    cmd: python3 scripts/model_scripts/evaluate.py datasets/stage4/test.csv models/model.pkl
    deps:
    - path: datasets/stage4/train.csv
      hash: md5
      md5: 2e7eb6b1a66c239d8747d8e13d26587b
      size: 818516
    - path: models/model.pkl
      hash: md5
      md5: f5be805ca561b0c461e267136cfae399
      size: 1935
    - path: scripts/model_scripts/evaluate.py
      hash: md5
      md5: b8a80dfe26ae21973d2cc2cbdf61baa6
      size: 568
    outs:
    - path: evaluate/score.json
      hash: md5
      md5: 3633cae56b886fa4280dec7cd6cdcdc8
      size: 31

